{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/app.service\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../shared/dynamic-form-input/dynamic-form-input.component\";\n\nfunction EditCommandNewComponent_div_15_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"h4\", 11)(2, \"strong\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r3.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.value);\n  }\n}\n\nfunction EditCommandNewComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, EditCommandNewComponent_div_15_div_1_Template, 6, 2, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.keyInArray(item_r3.key));\n  }\n}\n\nfunction EditCommandNewComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"div\", 22)(3, \"div\", 23)(4, \"div\", 24)(5, \"div\", 25)(6, \"label\", 26)(7, \"strong\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(9, \"app-dynamic-form-input\", 27);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"data-required\", item_r6.required ? \"true\" : \"false\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", item_r6.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"controlType\", item_r6.schema._type)(\"key\", item_r6.name)(\"label\", item_r6.schema.title)(\"name\", item_r6.name)(\"desc\", item_r6.schema.description)(\"required\", item_r6.required ? item_r6.required : false)(\"validator\", \"none\")(\"value\", ctx_r1.getDefaultValue(item_r6.schema.description))(\"pHolder\", ctx_r1.getDatePlaceholder(item_r6.schema.description));\n  }\n}\n\nfunction EditCommandNewComponent_ul_25_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const result_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(result_r9.type);\n  }\n}\n\nfunction EditCommandNewComponent_ul_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\")(1, \"li\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, EditCommandNewComponent_ul_25_li_4_Template, 2, 1, \"li\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const results_r7 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, results_r7));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", results_r7);\n  }\n}\n\nexport class EditCommandNewComponent {\n  // form: FormGroup;\n  constructor(route, router, appService, http, fb) {\n    this.route = route;\n    this.router = router;\n    this.appService = appService;\n    this.http = http;\n    this.fb = fb;\n    this.dataCommands = [];\n    this.commandName = '';\n    this.actionName = '';\n    this.action = {};\n    this.acceptedKeys = ['url'];\n    this.resultsArr = [];\n  }\n\n  ngOnInit() {\n    this.api = this.appService.url;\n\n    if (this.appService.commandsList.length === 0) {\n      this.appService.getAllCommands().subscribe(data => {\n        this.route.paramMap.subscribe(params => {\n          this.commandName = params.get('command');\n          this.actionName = params.get('action');\n          setTimeout(() => {\n            this.resetScroll();\n          }, 100);\n        });\n        this.appService.commandsList = data;\n        this.dataCommands = this.appService.commandsList; // console.log('---');\n        // console.log(this.dataCommands);\n        // console.log('---');\n\n        this.getCommandDetails(this.commandName);\n      });\n    } else {\n      this.route.paramMap.subscribe(params => {\n        this.commandName = params.get('command');\n        this.actionName = params.get('action');\n        setTimeout(() => {\n          this.resetScroll();\n        }, 100);\n      });\n      this.dataCommands = this.appService.commandsList;\n      this.getCommandDetails(this.commandName);\n    }\n\n    this.commandsObs$ = this.appService.getCommandStream();\n  }\n\n  ngAfterViewInit() {\n    // Sort fields by required\n    // setTimeout(() => {\n    //   $('#inpt-fields').html(\n    //     $('#inpt-fields .div-req').sort(this.appService.sortByRequired)\n    //   );\n    // }, 500);\n    // Init integer fields\n    setTimeout(() => {\n      initIntegerFields();\n    }, 500);\n  }\n\n  formatBreadcrumbs(str) {\n    let result = '';\n\n    if (str != null || str != undefined) {\n      result = str.replace(/:/g, '/');\n    }\n\n    return result;\n  }\n\n  resetScroll() {\n    $('#scroll-win').css('height', window.innerHeight - 190 + 'px');\n    $(window).resize(function () {\n      $('#scroll-win').css('height', window.innerHeight - 190 + 'px');\n    });\n    $('#begin').hide();\n    $('#scroll-win').scrollTop(0);\n  }\n\n  getKey(item) {\n    return Object.keys(item);\n  }\n\n  getActionDetails(obj) {\n    // console.log('-- getActionDetails --');\n    // console.log(obj);\n    // console.log('-- getActionDetails --');\n    if (this.actionName === null) {\n      if (obj != undefined || obj != null) {\n        this.action = obj;\n        this.action.fields.sort(this.appService.sortByReq);\n      }\n    } else {\n      for (let [key, value] of Object.entries(obj)) {\n        // console.log(key);\n        if (key == this.actionName) {\n          // console.log(value);\n          this.action = value;\n          this.action.fields.sort(this.appService.sortByReq);\n        }\n      }\n    } // Initialize de formControls\n    // let fields = [];\n    // for (let item of this.action.fields) {\n    //   fields.push({ [item.name]: '' });\n    // }\n    // console.log(fields);\n    // this.form = this.fb.group({ dataset_name: 'tttt' });\n\n  } // toFormGroup(inputs: <string>[]): FormGroup {\n  //   const group: any = {};\n  //   inputs.forEach(input => {\n  //     let validator: ValidatorFn[] = input.required ? [Validators.required] : [];\n  //     switch (input.validator) {\n  //       case \"email\":\n  //         validator.push(Validators.email);\n  //         break;\n  //       default:\n  //         break;\n  //     }\n  //     group[input.key] = validator.length > 0 ? new FormControl(input.value || '', validator)\n  //                                       : new FormControl(input.value || '');\n  //   });\n  //   return new FormGroup(group);\n  // }\n\n\n  isObject(value) {\n    return !!(value && typeof value === 'object' && !Array.isArray(value));\n  }\n\n  findNestedObject(obj, keyToMatch = '') {\n    if (this.isObject(obj)) {\n      const entries = Object.entries(obj);\n\n      for (let i = 0; i < entries.length; i += 1) {\n        const [objectKey, objectValue] = entries[i];\n\n        if (objectKey === keyToMatch) {\n          return obj;\n        }\n\n        if (this.isObject(objectValue)) {\n          const child = this.findNestedObject(objectValue, keyToMatch);\n\n          if (child !== null) {\n            return child;\n          }\n        }\n      }\n    }\n\n    return null;\n  }\n\n  getCommandDetails(name) {\n    // console.log('> ' + name);\n    const keysArr = name.split(':');\n    const len = keysArr.length;\n    let lastKey = keysArr[len - 1];\n    let command = [];\n    let lastKeyParent = '';\n\n    for (let [key, value] of Object.entries(this.dataCommands)) {\n      if (keysArr[0] == key) {\n        command = value;\n      }\n    }\n\n    if (keysArr.length == 1) {\n      lastKey = name;\n      lastKeyParent = command;\n    } else {\n      lastKeyParent = this.findNestedObject(command, lastKey);\n    } // console.log(command);\n    // console.log('last = ' + keysArr[len - 1]);\n    // console.log(this.isObject(lastKeyParent));\n\n\n    if (!this.isObject(lastKeyParent) || keysArr.length == 1) {\n      this.getActionDetails(lastKeyParent);\n    } else {\n      // is object array\n      for (let [key, value] of Object.entries(lastKeyParent)) {\n        if (lastKey == key) {\n          // console.log(value);\n          this.getActionDetails(value);\n        }\n      }\n    }\n  }\n\n  keyInArray(ele) {\n    if (this.acceptedKeys.includes(ele)) {\n      // console.log(ele + ': ' + true);\n      return true;\n    } // console.log(ele + ': ' + false);\n\n\n    return false;\n  } // getSchema(obj: any) {\n  //   let result: string = '';\n  //   for (let [key, value] of Object.entries(obj)) {\n  //     // console.log(`${key}: ${value}`);\n  //     result +=\n  //       '<div class=\"mb-3 row mt-3\"><label for=\"name\" class=\"col-sm-3 col-form-label text-right\">' +\n  //       key +\n  //       '</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" value=\"' +\n  //       value +\n  //       '\" /></div></div>';\n  //   }\n  //   // console.log(result);\n  //   return this._sanitizer.bypassSecurityTrustHtml(result);\n  // }\n\n\n  getDefaultValue(val) {\n    return val.substring(val.indexOf('<') + 1, val.lastIndexOf('>'));\n  }\n\n  getDatePlaceholder(val) {\n    if (val.indexOf('YYYY-MM-DD HH:MM:SS') > -1) {\n      return 'YYYY-MM-DD HH:MM:SS';\n    }\n\n    return '';\n  } // returnInputHtml(name: any, type: any, title: any, desc: any, req: boolean) {\n  //   let result: string = '';\n  //   // let n: number = Math.floor(Math.random() * 500) + 1;\n  //   let valueDefault: any = this.getDefaultValue(desc);\n  //   let datePlaceholder: any = this.getDatePlaceholder(desc);\n  //   let required = req ? '<span class=\"text-danger\">*</span>' : '';\n  //   let requiredBadge = req\n  //     ? ' <span class=\"badge bg-danger d-inline-block text-uppercase\">required</span>'\n  //     : '';\n  //   let requiredInp = req ? 'required' : '';\n  //   switch (type) {\n  //     case 'integer':\n  //       result =\n  //         '<div class=\"pb-2\">' +\n  //         desc +\n  //         required +\n  //         '</div><input id=\"' +\n  //         name +\n  //         '\" name=\"' +\n  //         name +\n  //         '\" type=\"text\" class=\"form-control numeric\" onkeypress=\"return isNumberKey(event,this.id)\"  value=\"' +\n  //         valueDefault +\n  //         '\"/><div><span class=\"badge bg-secondary d-inline-block text-uppercase\">integer</span></div>';\n  //       break;\n  //     case 'string':\n  //       result =\n  //         '<div class=\"pb-2\">' +\n  //         desc +\n  //         required +\n  //         '</div><input id=\"' +\n  //         name +\n  //         '\" name=\"' +\n  //         name +\n  //         '\" type=\"text\" class=\"form-control\" value=\"\" placeholder=\"' +\n  //         datePlaceholder +\n  //         '\" ' +\n  //         requiredInp +\n  //         '/><div><span class=\"badge bg-secondary d-inline-block text-uppercase\">string</span>' +\n  //         requiredBadge +\n  //         '</div>';\n  //       break;\n  //     case 'array':\n  //       result =\n  //         '<div class=\"pb-2\">' +\n  //         desc.replace('(comma separated)', '') +\n  //         required +\n  //         '</div><div id=\"' +\n  //         name +\n  //         '_arr\" class=\"col\"><ul class=\"list-group arr-' +\n  //         name +\n  //         '\"><li class=\"list-group-item d-flex bd-highlight align-items-center\"><input id=\"' +\n  //         name +\n  //         '\" name=\"' +\n  //         name +\n  //         '\" type=\"text\" class=\"form-control flex-grow-1 bd-highlight arr-inpt\" /><span class=\"d-inline-block\" style=\"width: 40px;\"></span></li></ul><a href=\"javascript://\" onClick=\"addArrayItem(\\'' +\n  //         name.trim() +\n  //         \"_arr', '\" +\n  //         name.trim() +\n  //         '\\')\" class=\"btn btn-primary btn-sm my-3\">+ Add</a></div>';\n  //       break;\n  //     case 'object':\n  //       result =\n  //         '<div class=\"pb-2\">' +\n  //         desc +\n  //         required +\n  //         '</div><div id=\"' +\n  //         name +\n  //         '_obj\" class=\"col\"><ul class=\"list-group obj-' +\n  //         name +\n  //         '\"><li class=\"list-group-item d-flex bd-highlight align-items-center\"><div class=\"col-5\"><label class=\"form-label\">Key</label><input type=\"text\" name=\"key-' +\n  //         name +\n  //         '\" class=\"form-control bd-highlight obj-key obj-inpt\" /></div><div class=\"col-1 d-flex justify-content-center align-items-center\"><span class=\"mt-4\">=</span></div><div class=\"col-5\"><label class=\"form-label\">Value</label><input name=\"' +\n  //         name +\n  //         '\" type=\"text\" class=\"form-control bd-highlight obj-value obj-inpt\" /></div><div class=\"col-1\"><span class=\"d-inline-block\" style=\"width: 40px;\"></span></div></li></ul><a href=\"javascript://\" onClick=\"addObjItem(\\'' +\n  //         name.trim() +\n  //         \"_obj', '\" +\n  //         name.trim() +\n  //         '\\')\" class=\"btn btn-primary btn-sm my-3\">+ Add</a></div>';\n  //       break;\n  //     case 'boolean':\n  //       result =\n  //         '<div class=\"pb-2\">' +\n  //         desc +\n  //         required +\n  //         '</div><div class=\"form-check\"><input class=\"form-check-input\" id=\"radio1-' +\n  //         name +\n  //         '\" type=\"radio\" checked name=\"' +\n  //         name +\n  //         '\"><label class=\"form-check-label\" for=\"radio1-' +\n  //         title +\n  //         '\">false</label></div><div class=\"form-check\"><input class=\"form-check-input\" id=\"radio2-' +\n  //         name +\n  //         '\" type=\"radio\" name=\"' +\n  //         name +\n  //         '\" ><label class=\"form-check-label\" for=\"radio2-' +\n  //         title +\n  //         '\">true</label></div>';\n  //       break;\n  //   }\n  //   return this._sanitizer.bypassSecurityTrustHtml(result);\n  // }\n\n\n  executeCommand() {\n    // Validate required fields\n    if (validateForm() == false) {\n      setFormErrorMessages();\n      return;\n    }\n\n    resetFormErrorMessages();\n    let frmData = getFormData('frm-command'); //return;\n    // this.appService\n    //   .executeCommand(this.formatBreadcrumbs(this.commandName), frmData.fields)\n    //   .subscribe((data) => {\n    //     console.log(data);\n    //   });\n    // this.appService\n    //   .executeCommand(this.formatBreadcrumbs(this.commandName), frmData.fields)\n    //   .subscribe((data) => {\n    //     of(data).subscribe({\n    //       next: (item) => console.log(item),\n    //       error: (err) => console.log(err),\n    //       complete: () => console.log('complete'),\n    //     });\n    //   });\n    // this.appService\n    //   .executeCommand(this.formatBreadcrumbs(this.commandName), frmData.fields)\n    //   .subscribe({\n    //     next: (data) => console.log(data),\n    //     error: (err) => console.log(err),\n    //     complete: () => console.log('complete'),\n    //   });\n    // this.appService\n    //   .executeCommand(this.formatBreadcrumbs(this.commandName), frmData.fields)\n    //   .subscribe(\n    //     (result) => {\n    //       // Handle result\n    //       console.log(result);\n    //     },\n    //     (error) => {\n    //       // this.errors = error;\n    //       console.log('error');\n    //       console.log(error);\n    //     },\n    //     () => {\n    //       // No errors, route to new page\n    //       console.log('complete');\n    //     }\n    //   );\n    // return;\n\n    let intArr;\n    let arr = this.appService.responses;\n    let command = this.formatBreadcrumbs(this.commandName);\n    let dataResponse; // console.log(this.formatBreadcrumbs(this.commandName));\n    // if (this.actionName === null) {\n    //   this.actionName = '';\n    // } else {\n\n    arr.push({\n      action: this.formatBreadcrumbs(this.commandName),\n      formData: frmData.fields\n    });\n    this.appService.responses = arr; // console.log(frmData.fields);\n    // console.log(this.appService.responses);\n    // }\n    // console.log('https://demo.zimagi.com:5123/' + command);\n    // $.ajax({\n    //   method: 'POST',\n    //   url: this.appService.url + command,\n    //   data: frmData.fields,\n    //   beforeSend: function (xhr: any) {\n    //     xhr.setRequestHeader(\n    //       'Authorization',\n    //       'Token ' + this.appService.user + ' ' + this.appService.token\n    //     );\n    //   },\n    //   processData: true,\n    //   complete: function (msg: any) {\n    //     dataResponse = msg.responseText;\n    //   },\n    // });\n    // intArr = setInterval(() => {\n    //   if (dataResponse != undefined) {\n    //     clearInterval(intArr);\n    //     $('#btn-execute').attr('disabled', true);\n    //     $('#btn-execute').css('opacity', '.5');\n    //     console.log(dataResponse);\n    //   }\n    // }, 500);\n    // console.log('----');\n    // console.log(arr);\n    // console.log('----');\n    // return;\n    // this.http\n    //   .post<any[]>(\n    //     this.api + command,\n    //     {},\n    //     {\n    //       headers: new HttpHeaders({\n    //         Authorization: this.authHead,\n    //       }),\n    //     }\n    //   )\n    //   .subscribe((data: any) => {\n    //     console.log(data);\n    //   });\n    // this.appService.executeCommand(command).subscribe((data: any) => {\n    //   console.log(data);\n    // });\n    //this.appService.responses = arr;\n    // Disable execute button\n\n    $('#btn-execute').attr('disabled', true);\n    $('#btn-execute').css('opacity', '.5');\n  }\n\n}\n\nEditCommandNewComponent.ɵfac = function EditCommandNewComponent_Factory(t) {\n  return new (t || EditCommandNewComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AppService), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject(i4.FormBuilder));\n};\n\nEditCommandNewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditCommandNewComponent,\n  selectors: [[\"app-edit-command-new\"]],\n  decls: 31,\n  vars: 10,\n  consts: [[1, \"row\", \"d-flex\", \"align-items-end\", \"flex-column\"], [\"id\", \"frm-command\", 3, \"ngSubmit\"], [\"id\", \"scroll-win\", 1, \"scroll\", \"bd-highlight\"], [1, \"col-12\"], [\"aria-label\", \"breadcrumb\", 1, \"border-bottom\", \"border-secondary\", \"mb-3\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\", 3, \"innerHTML\"], [1, \"badge\", \"bg-secondary\", \"text-lg\", \"d-inline-block\", \"mb-2\"], [1, \"row\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-12\", \"py-3\", \"mt-3\", \"border-top\", \"border-primary\"], [1, \"text-primary\"], [\"id\", \"inpt-fields\", 1, \"row\"], [\"class\", \"col-12 mb-2 div-req\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"id\", \"btn-container\", 1, \"mt-auto\", \"bd-highlight\", \"pt-4\", \"border-top\", \"border-secondary\"], [\"type\", \"submit\", \"id\", \"btn-execute\", \"color\", \"primary\", 1, \"btn\", \"btn-primary\"], [\"class\", \"col\", 4, \"ngIf\"], [1, \"col\"], [1, \"badge\", \"bg-secondary\", \"text-lg\"], [1, \"col-12\", \"mb-2\", \"div-req\"], [1, \"card\", \"mr-2\"], [1, \"card-body\"], [1, \"mb-3\", \"row\", \"mt-3\"], [1, \"field-container\"], [1, \"pl-5\"], [\"for\", \"name\", 1, \"col-form-label\"], [3, \"controlType\", \"key\", \"label\", \"name\", \"desc\", \"required\", \"validator\", \"value\", \"pHolder\"]],\n  template: function EditCommandNewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function EditCommandNewComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.executeCommand();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"nav\", 4)(5, \"ol\", 5);\n      i0.ɵɵelement(6, \"li\", 6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"div\", 3)(8, \"h2\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"strong\", 7);\n      i0.ɵɵtext(11, \"description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"p\");\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 8);\n      i0.ɵɵtemplate(15, EditCommandNewComponent_div_15_Template, 2, 1, \"div\", 9);\n      i0.ɵɵpipe(16, \"keyvalue\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 10)(18, \"h3\")(19, \"strong\", 11);\n      i0.ɵɵtext(20, \"Fields\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 12);\n      i0.ɵɵtemplate(22, EditCommandNewComponent_div_22_Template, 10, 11, \"div\", 13);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"div\");\n      i0.ɵɵtext(24, \" xxx \");\n      i0.ɵɵtemplate(25, EditCommandNewComponent_ul_25_Template, 5, 4, \"ul\", 14);\n      i0.ɵɵpipe(26, \"async\");\n      i0.ɵɵtext(27, \" xxx \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 15)(29, \"button\", 16);\n      i0.ɵɵtext(30, \" Execute \");\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"innerHTML\", ctx.formatBreadcrumbs(ctx.commandName), i0.ɵɵsanitizeHtml);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.actionName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.action.description, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(16, 6, ctx.action));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.action.fields);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(26, 8, ctx.commandsObs$));\n    }\n  },\n  directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i5.NgForOf, i5.NgIf, i6.DynamicFormInputComponent],\n  pipes: [i5.KeyValuePipe, i5.AsyncPipe, i5.JsonPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlZGl0LWNvbW1hbmQtbmV3LmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"sources":["/Users/pr44792/command-control-prototype/src/app/commands/edit-command-new/edit-command-new.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","EditCommandNewComponent_div_15_div_1_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","item_r3","ɵɵnextContext","$implicit","ɵɵadvance","ɵɵtextInterpolate","key","value","EditCommandNewComponent_div_15_Template","ɵɵtemplate","ctx_r0","ɵɵproperty","keyInArray","EditCommandNewComponent_div_22_Template","ɵɵelement","item_r6","ctx_r1","ɵɵattribute","required","ɵɵtextInterpolate1","name","schema","_type","title","description","getDefaultValue","getDatePlaceholder","EditCommandNewComponent_ul_25_li_4_Template","result_r9","type","EditCommandNewComponent_ul_25_Template","ɵɵpipe","results_r7","ngIf","ɵɵpipeBind1","EditCommandNewComponent","constructor","route","router","appService","http","fb","dataCommands","commandName","actionName","action","acceptedKeys","resultsArr","ngOnInit","api","url","commandsList","length","getAllCommands","subscribe","data","paramMap","params","get","setTimeout","resetScroll","getCommandDetails","commandsObs$","getCommandStream","ngAfterViewInit","initIntegerFields","formatBreadcrumbs","str","result","undefined","replace","$","css","window","innerHeight","resize","hide","scrollTop","getKey","item","Object","keys","getActionDetails","obj","fields","sort","sortByReq","entries","isObject","Array","isArray","findNestedObject","keyToMatch","i","objectKey","objectValue","child","keysArr","split","len","lastKey","command","lastKeyParent","ele","includes","val","substring","indexOf","lastIndexOf","executeCommand","validateForm","setFormErrorMessages","resetFormErrorMessages","frmData","getFormData","intArr","arr","responses","dataResponse","push","formData","attr","ɵfac","EditCommandNewComponent_Factory","t","ɵɵdirectiveInject","ActivatedRoute","Router","AppService","HttpClient","FormBuilder","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","EditCommandNewComponent_Template","ɵɵlistener","EditCommandNewComponent_Template_form_ngSubmit_1_listener","ɵɵsanitizeHtml","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","NgForOf","NgIf","DynamicFormInputComponent","pipes","KeyValuePipe","AsyncPipe","JsonPipe","styles"],"mappings":"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A0D;AACtD,WAAK8B,gBAAL,CAAsBoB,aAAtB;AACH,KAFD,MAGK;AACD;AACA,WAAK,IAAI,CAAChG,GAAD,EAAMC,KAAN,CAAT,IAAyByE,MAAM,CAACO,OAAP,CAAee,aAAf,CAAzB,EAAwD;AACpD,YAAIF,OAAO,IAAI9F,GAAf,EAAoB;AAChB;AACA,eAAK4E,gBAAL,CAAsB3E,KAAtB;AACH;AACJ;AACJ;AACJ;;AACDK,EAAAA,UAAU,CAAC2F,GAAD,EAAM;AACZ,QAAI,KAAKzD,YAAL,CAAkB0D,QAAlB,CAA2BD,GAA3B,CAAJ,EAAqC;AACjC;AACA,aAAO,IAAP;AACH,KAJW,CAKZ;;;AACA,WAAO,KAAP;AACH,GAxLgC,CAyLjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA9E,EAAAA,eAAe,CAACgF,GAAD,EAAM;AACjB,WAAOA,GAAG,CAACC,SAAJ,CAAcD,GAAG,CAACE,OAAJ,CAAY,GAAZ,IAAmB,CAAjC,EAAoCF,GAAG,CAACG,WAAJ,CAAgB,GAAhB,CAApC,CAAP;AACH;;AACDlF,EAAAA,kBAAkB,CAAC+E,GAAD,EAAM;AACpB,QAAIA,GAAG,CAACE,OAAJ,CAAY,qBAAZ,IAAqC,CAAC,CAA1C,EAA6C;AACzC,aAAO,qBAAP;AACH;;AACD,WAAO,EAAP;AACH,GA/MgC,CAgNjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAE,EAAAA,cAAc,GAAG;AACb;AACA,QAAIC,YAAY,MAAM,KAAtB,EAA6B;AACzBC,MAAAA,oBAAoB;AACpB;AACH;;AACDC,IAAAA,sBAAsB;AACtB,QAAIC,OAAO,GAAGC,WAAW,CAAC,aAAD,CAAzB,CAPa,CAQb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAIC,MAAJ;AACA,QAAIC,GAAG,GAAG,KAAK7E,UAAL,CAAgB8E,SAA1B;AACA,QAAIhB,OAAO,GAAG,KAAKnC,iBAAL,CAAuB,KAAKvB,WAA5B,CAAd;AACA,QAAI2E,YAAJ,CAnDa,CAoDb;AACA;AACA;AACA;;AACAF,IAAAA,GAAG,CAACG,IAAJ,CAAS;AACL1E,MAAAA,MAAM,EAAE,KAAKqB,iBAAL,CAAuB,KAAKvB,WAA5B,CADH;AAEL6E,MAAAA,QAAQ,EAAEP,OAAO,CAAC7B;AAFb,KAAT;AAIA,SAAK7C,UAAL,CAAgB8E,SAAhB,GAA4BD,GAA5B,CA5Da,CA6Db;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA7C,IAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBkD,IAAlB,CAAuB,UAAvB,EAAmC,IAAnC;AACAlD,IAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBC,GAAlB,CAAsB,SAAtB,EAAiC,IAAjC;AACH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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/app.service\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../shared/dynamic-form-input/dynamic-form-input.component\";\nfunction EditCommandNewComponent_div_15_div_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"h4\", 11)(2, \"strong\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n} if (rf & 2) {\n    const item_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r3.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.value);\n} }\nfunction EditCommandNewComponent_div_15_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, EditCommandNewComponent_div_15_div_1_Template, 6, 2, \"div\", 17);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.keyInArray(item_r3.key));\n} }\nfunction EditCommandNewComponent_div_22_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"div\", 22)(3, \"div\", 23)(4, \"div\", 24)(5, \"div\", 25)(6, \"label\", 26)(7, \"strong\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(9, \"app-dynamic-form-input\", 27);\n    i0.ɵɵelementEnd()()()()();\n} if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"data-required\", item_r6.required ? \"true\" : \"false\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", item_r6.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"controlType\", item_r6.schema._type)(\"key\", item_r6.name)(\"label\", item_r6.schema.title)(\"name\", item_r6.name)(\"desc\", item_r6.schema.description)(\"required\", item_r6.required ? item_r6.required : false)(\"validator\", \"none\")(\"value\", ctx_r1.getDefaultValue(item_r6.schema.description))(\"pHolder\", ctx_r1.getDatePlaceholder(item_r6.schema.description));\n} }\nfunction EditCommandNewComponent_ul_25_li_4_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const result_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(result_r9.type);\n} }\nfunction EditCommandNewComponent_ul_25_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\")(1, \"li\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, EditCommandNewComponent_ul_25_li_4_Template, 2, 1, \"li\", 9);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const results_r7 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, results_r7));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", results_r7);\n} }\nexport class EditCommandNewComponent {\n    // form: FormGroup;\n    constructor(route, router, appService, http, fb) {\n        this.route = route;\n        this.router = router;\n        this.appService = appService;\n        this.http = http;\n        this.fb = fb;\n        this.dataCommands = [];\n        this.commandName = '';\n        this.actionName = '';\n        this.action = {};\n        this.acceptedKeys = ['url'];\n        this.resultsArr = [];\n    }\n    ngOnInit() {\n        this.api = this.appService.url;\n        if (this.appService.commandsList.length === 0) {\n            this.appService.getAllCommands().subscribe((data) => {\n                this.route.paramMap.subscribe((params) => {\n                    this.commandName = params.get('command');\n                    this.actionName = params.get('action');\n                    setTimeout(() => {\n                        this.resetScroll();\n                    }, 100);\n                });\n                this.appService.commandsList = data;\n                this.dataCommands = this.appService.commandsList;\n                // console.log('---');\n                // console.log(this.dataCommands);\n                // console.log('---');\n                this.getCommandDetails(this.commandName);\n            });\n        }\n        else {\n            this.route.paramMap.subscribe((params) => {\n                this.commandName = params.get('command');\n                this.actionName = params.get('action');\n                setTimeout(() => {\n                    this.resetScroll();\n                }, 100);\n            });\n            this.dataCommands = this.appService.commandsList;\n            this.getCommandDetails(this.commandName);\n        }\n        this.commandsObs$ = this.appService.getCommandStream();\n    }\n    ngAfterViewInit() {\n        // Sort fields by required\n        // setTimeout(() => {\n        //   $('#inpt-fields').html(\n        //     $('#inpt-fields .div-req').sort(this.appService.sortByRequired)\n        //   );\n        // }, 500);\n        // Init integer fields\n        setTimeout(() => {\n            initIntegerFields();\n        }, 500);\n    }\n    formatBreadcrumbs(str) {\n        let result = '';\n        if (str != null || str != undefined) {\n            result = str.replace(/:/g, '/');\n        }\n        return result;\n    }\n    resetScroll() {\n        $('#scroll-win').css('height', window.innerHeight - 190 + 'px');\n        $(window).resize(function () {\n            $('#scroll-win').css('height', window.innerHeight - 190 + 'px');\n        });\n        $('#begin').hide();\n        $('#scroll-win').scrollTop(0);\n    }\n    getKey(item) {\n        return Object.keys(item);\n    }\n    getActionDetails(obj) {\n        // console.log('-- getActionDetails --');\n        // console.log(obj);\n        // console.log('-- getActionDetails --');\n        if (this.actionName === null) {\n            if (obj != undefined || obj != null) {\n                this.action = obj;\n                this.action.fields.sort(this.appService.sortByReq);\n            }\n        }\n        else {\n            for (let [key, value] of Object.entries(obj)) {\n                // console.log(key);\n                if (key == this.actionName) {\n                    // console.log(value);\n                    this.action = value;\n                    this.action.fields.sort(this.appService.sortByReq);\n                }\n            }\n        }\n        // Initialize de formControls\n        // let fields = [];\n        // for (let item of this.action.fields) {\n        //   fields.push({ [item.name]: '' });\n        // }\n        // console.log(fields);\n        // this.form = this.fb.group({ dataset_name: 'tttt' });\n    }\n    // toFormGroup(inputs: <string>[]): FormGroup {\n    //   const group: any = {};\n    //   inputs.forEach(input => {\n    //     let validator: ValidatorFn[] = input.required ? [Validators.required] : [];\n    //     switch (input.validator) {\n    //       case \"email\":\n    //         validator.push(Validators.email);\n    //         break;\n    //       default:\n    //         break;\n    //     }\n    //     group[input.key] = validator.length > 0 ? new FormControl(input.value || '', validator)\n    //                                       : new FormControl(input.value || '');\n    //   });\n    //   return new FormGroup(group);\n    // }\n    isObject(value) {\n        return !!(value && typeof value === 'object' && !Array.isArray(value));\n    }\n    findNestedObject(obj, keyToMatch = '') {\n        if (this.isObject(obj)) {\n            const entries = Object.entries(obj);\n            for (let i = 0; i < entries.length; i += 1) {\n                const [objectKey, objectValue] = entries[i];\n                if (objectKey === keyToMatch) {\n                    return obj;\n                }\n                if (this.isObject(objectValue)) {\n                    const child = this.findNestedObject(objectValue, keyToMatch);\n                    if (child !== null) {\n                        return child;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    getCommandDetails(name) {\n        // console.log('> ' + name);\n        const keysArr = name.split(':');\n        const len = keysArr.length;\n        let lastKey = keysArr[len - 1];\n        let command = [];\n        let lastKeyParent = '';\n        for (let [key, value] of Object.entries(this.dataCommands)) {\n            if (keysArr[0] == key) {\n                command = value;\n            }\n        }\n        if (keysArr.length == 1) {\n            lastKey = name;\n            lastKeyParent = command;\n        }\n        else {\n            lastKeyParent = this.findNestedObject(command, lastKey);\n        }\n        // console.log(command);\n        // console.log('last = ' + keysArr[len - 1]);\n        // console.log(this.isObject(lastKeyParent));\n        if (!this.isObject(lastKeyParent) || keysArr.length == 1) {\n            this.getActionDetails(lastKeyParent);\n        }\n        else {\n            // is object array\n            for (let [key, value] of Object.entries(lastKeyParent)) {\n                if (lastKey == key) {\n                    // console.log(value);\n                    this.getActionDetails(value);\n                }\n            }\n        }\n    }\n    keyInArray(ele) {\n        if (this.acceptedKeys.includes(ele)) {\n            // console.log(ele + ': ' + true);\n            return true;\n        }\n        // console.log(ele + ': ' + false);\n        return false;\n    }\n    // getSchema(obj: any) {\n    //   let result: string = '';\n    //   for (let [key, value] of Object.entries(obj)) {\n    //     // console.log(`${key}: ${value}`);\n    //     result +=\n    //       '<div class=\"mb-3 row mt-3\"><label for=\"name\" class=\"col-sm-3 col-form-label text-right\">' +\n    //       key +\n    //       '</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" value=\"' +\n    //       value +\n    //       '\" /></div></div>';\n    //   }\n    //   // console.log(result);\n    //   return this._sanitizer.bypassSecurityTrustHtml(result);\n    // }\n    getDefaultValue(val) {\n        return val.substring(val.indexOf('<') + 1, val.lastIndexOf('>'));\n    }\n    getDatePlaceholder(val) {\n        if (val.indexOf('YYYY-MM-DD HH:MM:SS') > -1) {\n            return 'YYYY-MM-DD HH:MM:SS';\n        }\n        return '';\n    }\n    // returnInputHtml(name: any, type: any, title: any, desc: any, req: boolean) {\n    //   let result: string = '';\n    //   // let n: number = Math.floor(Math.random() * 500) + 1;\n    //   let valueDefault: any = this.getDefaultValue(desc);\n    //   let datePlaceholder: any = this.getDatePlaceholder(desc);\n    //   let required = req ? '<span class=\"text-danger\">*</span>' : '';\n    //   let requiredBadge = req\n    //     ? ' <span class=\"badge bg-danger d-inline-block text-uppercase\">required</span>'\n    //     : '';\n    //   let requiredInp = req ? 'required' : '';\n    //   switch (type) {\n    //     case 'integer':\n    //       result =\n    //         '<div class=\"pb-2\">' +\n    //         desc +\n    //         required +\n    //         '</div><input id=\"' +\n    //         name +\n    //         '\" name=\"' +\n    //         name +\n    //         '\" type=\"text\" class=\"form-control numeric\" onkeypress=\"return isNumberKey(event,this.id)\"  value=\"' +\n    //         valueDefault +\n    //         '\"/><div><span class=\"badge bg-secondary d-inline-block text-uppercase\">integer</span></div>';\n    //       break;\n    //     case 'string':\n    //       result =\n    //         '<div class=\"pb-2\">' +\n    //         desc +\n    //         required +\n    //         '</div><input id=\"' +\n    //         name +\n    //         '\" name=\"' +\n    //         name +\n    //         '\" type=\"text\" class=\"form-control\" value=\"\" placeholder=\"' +\n    //         datePlaceholder +\n    //         '\" ' +\n    //         requiredInp +\n    //         '/><div><span class=\"badge bg-secondary d-inline-block text-uppercase\">string</span>' +\n    //         requiredBadge +\n    //         '</div>';\n    //       break;\n    //     case 'array':\n    //       result =\n    //         '<div class=\"pb-2\">' +\n    //         desc.replace('(comma separated)', '') +\n    //         required +\n    //         '</div><div id=\"' +\n    //         name +\n    //         '_arr\" class=\"col\"><ul class=\"list-group arr-' +\n    //         name +\n    //         '\"><li class=\"list-group-item d-flex bd-highlight align-items-center\"><input id=\"' +\n    //         name +\n    //         '\" name=\"' +\n    //         name +\n    //         '\" type=\"text\" class=\"form-control flex-grow-1 bd-highlight arr-inpt\" /><span class=\"d-inline-block\" style=\"width: 40px;\"></span></li></ul><a href=\"javascript://\" onClick=\"addArrayItem(\\'' +\n    //         name.trim() +\n    //         \"_arr', '\" +\n    //         name.trim() +\n    //         '\\')\" class=\"btn btn-primary btn-sm my-3\">+ Add</a></div>';\n    //       break;\n    //     case 'object':\n    //       result =\n    //         '<div class=\"pb-2\">' +\n    //         desc +\n    //         required +\n    //         '</div><div id=\"' +\n    //         name +\n    //         '_obj\" class=\"col\"><ul class=\"list-group obj-' +\n    //         name +\n    //         '\"><li class=\"list-group-item d-flex bd-highlight align-items-center\"><div class=\"col-5\"><label class=\"form-label\">Key</label><input type=\"text\" name=\"key-' +\n    //         name +\n    //         '\" class=\"form-control bd-highlight obj-key obj-inpt\" /></div><div class=\"col-1 d-flex justify-content-center align-items-center\"><span class=\"mt-4\">=</span></div><div class=\"col-5\"><label class=\"form-label\">Value</label><input name=\"' +\n    //         name +\n    //         '\" type=\"text\" class=\"form-control bd-highlight obj-value obj-inpt\" /></div><div class=\"col-1\"><span class=\"d-inline-block\" style=\"width: 40px;\"></span></div></li></ul><a href=\"javascript://\" onClick=\"addObjItem(\\'' +\n    //         name.trim() +\n    //         \"_obj', '\" +\n    //         name.trim() +\n    //         '\\')\" class=\"btn btn-primary btn-sm my-3\">+ Add</a></div>';\n    //       break;\n    //     case 'boolean':\n    //       result =\n    //         '<div class=\"pb-2\">' +\n    //         desc +\n    //         required +\n    //         '</div><div class=\"form-check\"><input class=\"form-check-input\" id=\"radio1-' +\n    //         name +\n    //         '\" type=\"radio\" checked name=\"' +\n    //         name +\n    //         '\"><label class=\"form-check-label\" for=\"radio1-' +\n    //         title +\n    //         '\">false</label></div><div class=\"form-check\"><input class=\"form-check-input\" id=\"radio2-' +\n    //         name +\n    //         '\" type=\"radio\" name=\"' +\n    //         name +\n    //         '\" ><label class=\"form-check-label\" for=\"radio2-' +\n    //         title +\n    //         '\">true</label></div>';\n    //       break;\n    //   }\n    //   return this._sanitizer.bypassSecurityTrustHtml(result);\n    // }\n    executeCommand() {\n        // Validate required fields\n        if (validateForm() == false) {\n            setFormErrorMessages();\n            return;\n        }\n        resetFormErrorMessages();\n        let frmData = getFormData('frm-command');\n        //return;\n        // this.appService\n        //   .executeCommand(this.formatBreadcrumbs(this.commandName), frmData.fields)\n        //   .subscribe((data) => {\n        //     console.log(data);\n        //   });\n        // this.appService\n        //   .executeCommand(this.formatBreadcrumbs(this.commandName), frmData.fields)\n        //   .subscribe((data) => {\n        //     of(data).subscribe({\n        //       next: (item) => console.log(item),\n        //       error: (err) => console.log(err),\n        //       complete: () => console.log('complete'),\n        //     });\n        //   });\n        // this.appService\n        //   .executeCommand(this.formatBreadcrumbs(this.commandName), frmData.fields)\n        //   .subscribe({\n        //     next: (data) => console.log(data),\n        //     error: (err) => console.log(err),\n        //     complete: () => console.log('complete'),\n        //   });\n        // this.appService\n        //   .executeCommand(this.formatBreadcrumbs(this.commandName), frmData.fields)\n        //   .subscribe(\n        //     (result) => {\n        //       // Handle result\n        //       console.log(result);\n        //     },\n        //     (error) => {\n        //       // this.errors = error;\n        //       console.log('error');\n        //       console.log(error);\n        //     },\n        //     () => {\n        //       // No errors, route to new page\n        //       console.log('complete');\n        //     }\n        //   );\n        // return;\n        let intArr;\n        let arr = this.appService.responses;\n        let command = this.formatBreadcrumbs(this.commandName);\n        let dataResponse;\n        // console.log(this.formatBreadcrumbs(this.commandName));\n        // if (this.actionName === null) {\n        //   this.actionName = '';\n        // } else {\n        arr.push({\n            action: this.formatBreadcrumbs(this.commandName),\n            formData: frmData.fields,\n        });\n        this.appService.responses = arr;\n        // console.log(frmData.fields);\n        // console.log(this.appService.responses);\n        // }\n        // console.log('https://demo.zimagi.com:5123/' + command);\n        // $.ajax({\n        //   method: 'POST',\n        //   url: this.appService.url + command,\n        //   data: frmData.fields,\n        //   beforeSend: function (xhr: any) {\n        //     xhr.setRequestHeader(\n        //       'Authorization',\n        //       'Token ' + this.appService.user + ' ' + this.appService.token\n        //     );\n        //   },\n        //   processData: true,\n        //   complete: function (msg: any) {\n        //     dataResponse = msg.responseText;\n        //   },\n        // });\n        // intArr = setInterval(() => {\n        //   if (dataResponse != undefined) {\n        //     clearInterval(intArr);\n        //     $('#btn-execute').attr('disabled', true);\n        //     $('#btn-execute').css('opacity', '.5');\n        //     console.log(dataResponse);\n        //   }\n        // }, 500);\n        // console.log('----');\n        // console.log(arr);\n        // console.log('----');\n        // return;\n        // this.http\n        //   .post<any[]>(\n        //     this.api + command,\n        //     {},\n        //     {\n        //       headers: new HttpHeaders({\n        //         Authorization: this.authHead,\n        //       }),\n        //     }\n        //   )\n        //   .subscribe((data: any) => {\n        //     console.log(data);\n        //   });\n        // this.appService.executeCommand(command).subscribe((data: any) => {\n        //   console.log(data);\n        // });\n        //this.appService.responses = arr;\n        // Disable execute button\n        $('#btn-execute').attr('disabled', true);\n        $('#btn-execute').css('opacity', '.5');\n    }\n}\nEditCommandNewComponent.ɵfac = function EditCommandNewComponent_Factory(t) { return new (t || EditCommandNewComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AppService), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject(i4.FormBuilder)); };\nEditCommandNewComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: EditCommandNewComponent, selectors: [[\"app-edit-command-new\"]], decls: 31, vars: 10, consts: [[1, \"row\", \"d-flex\", \"align-items-end\", \"flex-column\"], [\"id\", \"frm-command\", 3, \"ngSubmit\"], [\"id\", \"scroll-win\", 1, \"scroll\", \"bd-highlight\"], [1, \"col-12\"], [\"aria-label\", \"breadcrumb\", 1, \"border-bottom\", \"border-secondary\", \"mb-3\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\", 3, \"innerHTML\"], [1, \"badge\", \"bg-secondary\", \"text-lg\", \"d-inline-block\", \"mb-2\"], [1, \"row\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-12\", \"py-3\", \"mt-3\", \"border-top\", \"border-primary\"], [1, \"text-primary\"], [\"id\", \"inpt-fields\", 1, \"row\"], [\"class\", \"col-12 mb-2 div-req\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"id\", \"btn-container\", 1, \"mt-auto\", \"bd-highlight\", \"pt-4\", \"border-top\", \"border-secondary\"], [\"type\", \"submit\", \"id\", \"btn-execute\", \"color\", \"primary\", 1, \"btn\", \"btn-primary\"], [\"class\", \"col\", 4, \"ngIf\"], [1, \"col\"], [1, \"badge\", \"bg-secondary\", \"text-lg\"], [1, \"col-12\", \"mb-2\", \"div-req\"], [1, \"card\", \"mr-2\"], [1, \"card-body\"], [1, \"mb-3\", \"row\", \"mt-3\"], [1, \"field-container\"], [1, \"pl-5\"], [\"for\", \"name\", 1, \"col-form-label\"], [3, \"controlType\", \"key\", \"label\", \"name\", \"desc\", \"required\", \"validator\", \"value\", \"pHolder\"]], template: function EditCommandNewComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function EditCommandNewComponent_Template_form_ngSubmit_1_listener() { return ctx.executeCommand(); });\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"nav\", 4)(5, \"ol\", 5);\n        i0.ɵɵelement(6, \"li\", 6);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"div\", 3)(8, \"h2\");\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"strong\", 7);\n        i0.ɵɵtext(11, \"description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"p\");\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 8);\n        i0.ɵɵtemplate(15, EditCommandNewComponent_div_15_Template, 2, 1, \"div\", 9);\n        i0.ɵɵpipe(16, \"keyvalue\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\", 10)(18, \"h3\")(19, \"strong\", 11);\n        i0.ɵɵtext(20, \"Fields\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"div\", 12);\n        i0.ɵɵtemplate(22, EditCommandNewComponent_div_22_Template, 10, 11, \"div\", 13);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\");\n        i0.ɵɵtext(24, \" xxx \");\n        i0.ɵɵtemplate(25, EditCommandNewComponent_ul_25_Template, 5, 4, \"ul\", 14);\n        i0.ɵɵpipe(26, \"async\");\n        i0.ɵɵtext(27, \" xxx \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 15)(29, \"button\", 16);\n        i0.ɵɵtext(30, \" Execute \");\n        i0.ɵɵelementEnd()()()();\n    } if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"innerHTML\", ctx.formatBreadcrumbs(ctx.commandName), i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.actionName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.action.description, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(16, 6, ctx.action));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.action.fields);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(26, 8, ctx.commandsObs$));\n    } }, directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i5.NgForOf, i5.NgIf, i6.DynamicFormInputComponent], pipes: [i5.KeyValuePipe, i5.AsyncPipe, i5.JsonPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlZGl0LWNvbW1hbmQtbmV3LmNvbXBvbmVudC5zY3NzIn0= */\"] });\n"]},"metadata":{},"sourceType":"module"}